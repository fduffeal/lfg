<lfg-header></lfg-header>
<div id="welcome" ng-if="displayWelcome"><div translate>Congratulation ! You are now registered on esBattle.com! You can invit, share your partys with your friends ! Do not forget to put your infos game in your <a href="#/profile">Profile</a>.</div></div>
<ul id="page">
	<li id="ui-left"></li>
	<li class="page">
		<div id="home" class="content">
			<div class="cover">
			</div>
			<div class="list">
				<ul class="platforms">
					<li ng-repeat="plateform in aPlateforms">
						<a href="" ng-click="updatePlateform(plateform.id,plateform.nom);" ng-class="{'selected':(plateformSelected == plateform.id)}">{{plateform.nom}}</a>
					</li>
					<li class="selected">
						<a href="" ng-click="updatePlateform('','ALL');" ng-class="{'selected':plateformSelected == ''}">ALL</a>
					</li>
				</ul>
				<ul class="search-tags">

					<li class="search"><input type="text" ng-trim="false" placeholder="#TAGS" ng-model="tags" ng-change="updateTags(this)" list="tagsList"></li>
					<datalist id="tagsList">
						<option data-ng-repeat="item in autoCompleteTags" value="{{item}}" />
					</datalist>

                    <!--<li translate>slots available max</li>
                    <li><input type="number" min="0" max="6" ng-model="slotMaxAvailable"></li>-->
                </ul>
                <ul class="how-many">
                	<li translate>slots available min</li>
                	<li><input type="number" min="0" max="6" ng-model="slotMinAvailable"></li>
                </ul>

                <div class="last">
                	<h1>Destiny {{plateformNameSelected}} : LIVE</h1>
                	<ul class="title">
                		<li class="list-platform"><a href=""translate>Platforms</a></li>
                		<li class="list-tags"><a href="">Tags</a></li>
                		<li class="list-infos"><a href="" ng-click="predicate = 'description'; reverse=!reverse">Infos</a></li>
                		<li class="list-start"><a href="" ng-click="predicate = 'start'; reverse=!reverse"translate>Start</a></li>
                		<!--<li><a href="" ng-click="predicate = 'duree'; reverse=!reverse">End</a></li>-->
                		<li class="list-slots"><a href="" ng-click="predicate = 'nbParticipant'; reverse=!reverse">Slots</a></li>
                		<li class="list-creator"><a href="" ng-click="predicate = 'name'; reverse=!reverse"translate>Creator</a></li>
                	</ul>
	                <a ng-href="{{partyWaitingUrlRoot}}{{rdv.id}}" ng-repeat="rdv in aRdv | filterRdvLastPlace:plateformSelected:tags:true:false:true:slotMinAvailable:slotMaxAvailable |orderBy:predicate:reverse as resultsLive">
	                    <ul class="line">
	                        <li class="list-platform">{{ rdv.plateform.nom }}</li>
	                        <li class="list-tags">
	                            <span ng-repeat="tag in rdv.tags">#{{ tag.nom }} </span>
	                        </li>
	                        <li class="list-infos">{{ rdv.description}} </li>
	                        <li class="list-start">{{ rdv.start*1000 | date:'yyyy-MM-dd HH:mm'}}</li>
	                        <!--<li>{{ rdv.duree }}</li>-->
	                        <li class="list-slots">{{rdv.users.length}}/{{ rdv.nbParticipant}}</li>
	                        <li class="list-creator">{{ rdv.leader.username }}</li>
	                    </ul>
	                </a>
                </div>

                <h1>Destiny {{plateformNameSelected}}</h1>
                <ul class="title">
                	<li class="list-platform"><a href=""translate>Platforms</a></li>
                	<li class="list-tags"><a href="">Tags</a></li>
                	<li class="list-infos"><a href="" ng-click="predicate = 'description'; reverse=!reverse">Infos</a></li>
                	<li class="list-start"><a href="" ng-click="predicate = 'start'; reverse=!reverse"translate>Start</a></li>
                	<!--<li><a href="" ng-click="predicate = 'duree'; reverse=!reverse">End</a></li>-->
                	<li class="list-slots"><a href="" ng-click="predicate = 'nbParticipant'; reverse=!reverse">Slots</a></li>
                	<li class="list-creator"><a href="" ng-click="predicate = 'name'; reverse=!reverse"translate>Creator</a></li>
                </ul>
				<a ng-href="{{partyWaitingUrlRoot}}{{rdv.id}}" ng-repeat="rdv in aRdv | filterRdvLastPlace:plateformSelected:tags:false:true:true:slotMinAvailable:slotMaxAvailable |orderBy:predicate:reverse as resultsAll" >
					<ul class="line">
	                    <li class="list-platform">{{ rdv.plateform.nom }}</li>
	                    <li class="list-tags">
	                        <span ng-repeat="tag in rdv.tags">#{{ tag.nom }} </span>
	                    </li>
	                    <li class="list-infos">{{ rdv.description}} </li>
	                    <li class="list-start">{{ rdv.start*1000 | date:'yyyy-MM-dd HH:mm'}}</li>
	                    <!--<li>{{ rdv.duree }}</li>-->
	                    <li class="list-slots">{{rdv.users.length}}/{{ rdv.nbParticipant}}</li>
	                    <li class="list-creator">{{ rdv.leader.username }}</li>
	                </ul>
				</a>
				<a ng-href="{{partyWaitingUrlRoot}}{{rdv.id}}" ng-repeat="rdv in aRdv | filterRdvLastPlace:plateformSelected:tags:false:false:false |orderBy:predicate:reverse">
	                <ul class="line" ng-if="resultsAll.length == 0">
	                    <li class="list-platform">{{ rdv.plateform.nom }}</li>
	                    <li class="list-tags">
	                        <span ng-repeat="tag in rdv.tags">#{{ tag.nom }} </span>
	                    </li>
	                    <li class="list-infos">{{ rdv.description}} </li>
	                    <li class="list-start">{{ rdv.start*1000 | date:'yyyy-MM-dd HH:mm'}}</li>
	                    <!--<li>{{ rdv.duree }}</li>-->
	                    <li class="list-slots">{{rdv.users.length}}/{{ rdv.nbParticipant}}</li>
	                    <li class="list-creator">{{ rdv.leader.username }}</li>
	                </ul>
				</a>
            </div>

        </div>
    </li>
</ul>

<lfg-footer></lfg-footer>