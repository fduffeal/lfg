<lfg-header></lfg-header>
<div id="topic" class="wrap">

	<div class="welcome">
		<h1>{{topic.topic.titre}}</h1>
		<div class="marge">
			<a href="" class="btn2">Actualiser</a>
			<a href="" class="btn2" ng-click="goToBottom()">Bottom</a>
			<a href="" class="btn2" ng-click="goToLastPage()">LAST PAge</a>
		</div>
	</div>

	<div class="page">

		<lfg-pagination id="top" a-page="aPage" current-page="currentPage" max-page="6"></lfg-pagination>

		<div class="block">
			<table class="list-message" border="0">

				<tr ng-repeat="message in topic.messages">
					<td class="msg">
						<table>
							<tr>
								<td class="to-avatar" rowspan="2" valign="top"><img src="http://avatarmaker.net/free-avatars/avatars/various_227/eye_horror_avatar_100x100_12291.jpg" alt=""></td>
								<td class="to-info" valign="top">
									<div class="left">
										{{message.user.username}}
									</div>
									<div class="right">
										{{message.created *1000 | date:'yyyy-MM-dd HH:mm'}}
										<a href="" ng-click="modify(message)">modify</a>
										<a href="" ng-click="delete(message)">delete</a>
									</div>
								</td>
							</tr>
							<tr>
								<td class="to-msg" valign="top">
									<span ng-bind-html="message.texte | filterHtml "></span>
								</td>
							</tr>
						</table>
					</td>
				</tr>
			</table>
		</div>

		<lfg-pagination id="bottom" a-page="aPage" current-page="currentPage" max-page="6"></lfg-pagination>

	</div>

	<div class="welcome" ng-show="canPost">
		<div class="marge">
			<div class="new">
				<h2 ng-if="(mode === modeEdit)">RÃ©pondre</h2>
				<h2 ng-if="(mode === modeModify)">Modifier</h2>
				<form name="myForm" ng-submit="submit()">
					<textarea name="texteInput" id="" cols="30" rows="10" ng-model="texte" required></textarea><br />
					<input type="submit" class="btn2" value="POSTER">
				</form>
			</div>
		</div>
	</div>
</div>
<lfg-footer></lfg-footer>